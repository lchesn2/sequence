<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADP San Dimas Chapter 319</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='user.css') }}">
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="header-top">
                <div class="welcome-message">
                    <i class="fas fa-user-circle"></i> {{ name }}
                </div>
                <div class="nav-buttons">
                    <a href="{{ url_for('halloffame') }}" class="nav-btn">
                        <i class="fas fa-chess-queen"></i> Hall of Fame
                    </a>
                    <a href="{{ url_for('hallofshame') }}" class="nav-btn">
                        <i class="fas fa-chess-pawn"></i> Hall of Shame
                    </a>
                    <a href="{{ url_for('logout') }}" class="nav-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
            <h1><i class="fas fa-chess-board"></i> Sequence Game</h1>
            <p class="subtitle">Welcome {{name}}, do you have what it takes to rise to the top of the sequence stats?</p>

        </div>

        <div class="content">
            <!-- Last Player -->
            <div class="last-finish">
                <h3><i class="fas fa-chess"></i> Last Finisher: {{ nxtTurn }}</h3>
            </div>

            <!-- Play by Play -->
            <div class="form-section">
                <div class="section-header">
                    <i class="fas fa-list-alt"></i>
                    <h2>Play by Play</h2>
                </div>
                <div class="table-container">
                    <table class="table" id="playByPlay">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Player</th>
                                <th>Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in data %}
                            <tr>
                                <td>{{ row[0] }}</td>
                                <td><strong>{{ row[2] }}</strong></td>
                                <td>
                                    <span class="type-badge type-{{ row[3].lower() }}">
                                        {% if row[3] == 'Sequence' %}
                                            <i class="fas fa-crown"></i>
                                        {% elif row[3] == 'Assist' %}
                                            <i class="fas fa-handshake"></i>
                                        {% elif row[3] == 'Block' %}
                                            <i class="fas fa-shield-alt"></i>
                                        {% endif %}
                                        {{ row[3] }}
                                    </span>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#playByPlay').DataTable({
                responsive: true,
                pageLength: 15,
                order: [[0, 'desc']],
                language: {
                    search: "Search entries:",
                    lengthMenu: "Show _MENU_ entries",
                    info: "Showing _START_ to _END_ of _TOTAL_ entries",
                    paginate: {
                        first: "First",
                        last: "Last",
                        next: "Next",
                        previous: "Previous"
                    }
                }
            });
        });
    </script>
</body>
</html>